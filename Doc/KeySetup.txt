Instructions for signing and installing TPM keys
================================================


This step used the aikblob and the aikKeyFile.txt generated in step 5.

Generate a public/private key pair (the "activity policy key").

Create the directory that tcService will find the hardware keys 
and certificates as specified in "DirectoryStructure.txt", 
by default this is ROOT/HWRoot.  In an earlier step, you copied
the aikblob and the aik-hex-file into this directory.

In the executable directory type:
    cd ROOT
    ./cryptUtility.exe -GenKey RSA1024 policyPrivateKey.xml
Store the policyPrivateKey.xml in ROOT for testing.  You should 
NEVER have the private key on an insecure computer and you should
NEVER lose this key.  This key will be copied onto the 
keyNegoServer Computer later.  Put it in policy/policyPrivateKey.xml

Produce the AIK certificate by typing:
    cd ROOT
    ./cryptUtility.exe -SignHexModulus policyPrivateKey.xml HWRoot/aikhexmod.txt HWRoot/cert

Produce the include file that will be used to insert the policy cert in the
activity elements.
    ./cryptUtility.exe -PolicyCert HWRoot/cert policyCert.inc FileProxy
Copy policyCert.inc to Code/fileProxy and Code/tcService.
