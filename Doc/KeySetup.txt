Instructions for signing and installing TPM keys
================================================


This step used the aikblob and the aikKeyFile.txt generated in step 5.

Generate a public/private key pair (the "activity policy key").

Create the directory that tcService will find the hardware keys 
and certificates as specified in "DirectoryStructure.txt", 
by default this is ROOT/HWRoot.  In an earlier step, you copied
the aikblob and the aik-hex-file into this directory.

In the executable directory type:
    cd ROOT
    ./cryptUtility.exe -GenKey RSA1024 activityPrivateKey.xml
Store the activityPrivateKey.xml in ROOT for testing.  You should 
NEVER have the private key on an insecure computer and you should
NEVER lose this key.  This key will be copied onto the 
keyNegoServer Computer later.

Produce the AIK certificate by typing:
    cd ROOT
    ./cryptUtility.exe -SignHexModulus activityPrivateKey.xml HWRoot/aikKeyFile.txt HWRoot/aikCert.xml

Produce the include file that will be used to insert the policy cert in the
activity elements.
    ./cryptUtility.exe -PolicyCert HWRoot/aikCert.xml policyCert.inc FileProxy
Copy policyCert.inc to Code/fileProxy and Code/tcService.
